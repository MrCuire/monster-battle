/* --- (样式部分保持不变，为了节省篇幅这里省略，请使用上一个版本的CSS) --- */
:root { --primary-color: #2c3e50; --accent-color: #e74c3c; --player-color: #2ecc71; }
* { padding: 0; margin: 0; box-sizing: border-box; user-select: none; }
body { height: 100vh; display: flex; flex-direction: column; align-items: center; background-color: #2c3e50; font-family: 'Segoe UI', sans-serif; color: white; overflow: hidden; }
.battle-stage { width: 100%; max-width: 640px; height: 160px; display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; background: rgba(0, 0, 0, 0.2); margin-bottom: 10px; border-bottom: 2px solid #34495e; }
.avatar-box { display: flex; flex-direction: column; align-items: center; width: 120px; position: relative; }
.avatar { font-size: 4rem; transition: transform 0.2s; }
.health-bar-container { width: 100%; height: 10px; background-color: #555; border-radius: 5px; margin-top: 5px; overflow: hidden; }
.health-bar { height: 100%; transition: width 0.3s ease-out; }
#player-hp-bar { background-color: var(--player-color); width: 100%; }
#monster-hp-bar { background-color: var(--accent-color); width: 100%; }
.vs-text { font-size: 2rem; font-weight: bold; font-style: italic; color: rgba(255,255,255,0.2); }
.game-board { width: 640px; height: 440px; display: flex; flex-wrap: wrap; perspective: 1000px; align-content: flex-start; /* 确保删除卡片时布局稳定 */ }
.memory-card { width: calc(16.666% - 10px); height: 100px; /* 固定高度避免跳动 */ margin: 5px; position: relative; transform: scale(1); transform-style: preserve-3d; transition: transform 0.5s; cursor: pointer; }
.memory-card.flip { transform: rotateY(180deg); }
/* .hidden 类不再需要了 */
.front-face, .back-face { width: 100%; height: 100%; padding: 5px; position: absolute; border-radius: 8px; display: flex; justify-content: center; align-items: center; font-size: 2.5rem; background-color: white; box-shadow: 2px 2px 5px rgba(0,0,0,0.3); backface-visibility: hidden; }
.front-face { transform: rotateY(180deg); background-color: #ecf0f1; }
.back-face { background-color: #3498db; color: white; font-size: 1.5rem; }
.shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
@keyframes shake { 10%, 90% { transform: translate3d(-2px, 0, 0); } 20%, 80% { transform: translate3d(4px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-8px, 0, 0); } 40%, 60% { transform: translate3d(8px, 0, 0); } }
.damage-text { position: absolute; color: #e74c3c; font-weight: bold; font-size: 1.5rem; animation: floatUp 1s forwards; top: 0; right: 0; pointer-events: none; }
@keyframes floatUp { 0% { opacity: 1; transform: translateY(0); } 100% { opacity: 0; transform: translateY(-50px); } }
.controls { margin-top: 15px; }
button { padding: 10px 20px; font-size: 1.1rem; background: #f1c40f; border: none; border-radius: 4px; cursor: pointer; color: #2c3e50; font-weight: bold; }
button:hover { background: #f39c12; }
@media (max-width: 650px) { .game-board { width: 95vw; height: auto; } .memory-card { height: 80px; } .battle-stage { width: 95vw; } .avatar { font-size: 3rem; } }